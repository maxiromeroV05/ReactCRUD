{"ast":null,"code":"const API_BASE_URL = 'https://x8ki-letl-twmt.n7.xano.io/api:W_i_EmGE';\n\n// POST - Crear un nuevo apostador (registro)\nexport const crearApostador = async datosApostador => {\n  try {\n    console.log('Enviando datos a Xano:', datosApostador);\n\n    // Estructura que coincide con la base de datos de Xano:\n    // id (auto), created_at (auto), nombre, apellido, username, correo\n    const datosParaXano = {\n      nombre: datosApostador.nombre,\n      apellido: datosApostador.apellido,\n      username: datosApostador.username,\n      correo: datosApostador.correo\n      // NO incluimos contraseña porque no existe en la BD\n    };\n    const response = await fetch(`${API_BASE_URL}/apostador`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(datosParaXano)\n    });\n    console.log('Respuesta del servidor:', response.status, response.statusText);\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      console.error('Error de la API:', errorData);\n      throw new Error(errorData.message || 'Error al crear el apostador');\n    }\n    const resultado = await response.json();\n    console.log('Usuario creado:', resultado);\n\n    // Guardar la contraseña localmente para autenticación\n    const usuarioCompleto = {\n      ...resultado,\n      contrasena: datosApostador.contrasena // Guardar localmente\n    };\n\n    // Guardar en localStorage para autenticación local\n    const usuariosLocal = JSON.parse(localStorage.getItem('usuarios_local') || '[]');\n    usuariosLocal.push(usuarioCompleto);\n    localStorage.setItem('usuarios_local', JSON.stringify(usuariosLocal));\n    return resultado;\n  } catch (error) {\n    console.error('Error en crearApostador:', error);\n    throw error;\n  }\n};\n\n// GET - Obtener todos los apostadores (para validar login)\nexport const obtenerApostadores = async () => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/apostador`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      throw new Error('Error al obtener los apostadores');\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Error en obtenerApostadores:', error);\n    throw error;\n  }\n};\n\n// PUT - Actualizar datos del apostador (nombre, apellido, username, correo)\nexport const actualizarApostador = async (apostadorId, datosActualizados) => {\n  try {\n    // Solo enviamos campos que existen en Xano\n    const datosParaXano = {\n      nombre: datosActualizados.nombre,\n      apellido: datosActualizados.apellido,\n      username: datosActualizados.username,\n      correo: datosActualizados.correo\n      // NO incluimos contraseña porque no existe en la BD\n    };\n    const response = await fetch(`${API_BASE_URL}/apostador/${apostadorId}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(datosParaXano)\n    });\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.message || 'Error al actualizar el apostador');\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Error en actualizarApostador:', error);\n    throw error;\n  }\n};\n\n// Actualizar contraseña localmente (ya que no existe en Xano)\nexport const actualizarContrasenaLocal = async (apostadorId, nuevaContrasena) => {\n  try {\n    const usuariosLocal = JSON.parse(localStorage.getItem('usuarios_local') || '[]');\n    const index = usuariosLocal.findIndex(u => u.id === apostadorId);\n    if (index !== -1) {\n      usuariosLocal[index].contrasena = nuevaContrasena;\n      localStorage.setItem('usuarios_local', JSON.stringify(usuariosLocal));\n      return usuariosLocal[index];\n    }\n    throw new Error('Usuario no encontrado en almacenamiento local');\n  } catch (error) {\n    console.error('Error en actualizarContrasenaLocal:', error);\n    throw error;\n  }\n};\n\n// DELETE - Eliminar apostador\nexport const eliminarApostador = async apostadorId => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/apostador/${apostadorId}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      throw new Error('Error al eliminar el apostador');\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('Error en eliminarApostador:', error);\n    throw error;\n  }\n};\n\n// Función de login con autenticación de Xano\nexport const loginApostador = async (emailOrUsername, password) => {\n  try {\n    // Primero intentamos obtener todos los apostadores\n    const apostadores = await obtenerApostadores();\n\n    // Buscar usuario por correo o username\n    const apostador = apostadores.find(a => a.correo === emailOrUsername || a.username === emailOrUsername);\n    if (!apostador) {\n      return null; // Usuario no encontrado\n    }\n\n    // Intentar autenticar con Xano usando el endpoint de login\n    // Xano espera el campo de contraseña para validar contra el hash\n    const loginResponse = await fetch(`${API_BASE_URL}/auth/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: apostador.correo,\n        password: password\n      })\n    });\n    if (loginResponse.ok) {\n      const authData = await loginResponse.json();\n      return {\n        ...apostador,\n        authToken: authData.authToken\n      };\n    } else {\n      // Si falla la autenticación, retornar null\n      return null;\n    }\n  } catch (error) {\n    console.error('Error en loginApostador:', error);\n    // Si el endpoint de login no existe, hacemos un workaround\n    // verificando manualmente la estructura de datos\n    throw error;\n  }\n};\n\n// Función auxiliar para validar login\nexport const validarLogin = async (emailOrUsername, password) => {\n  try {\n    console.log('=== Validando Login ===');\n    console.log('Buscando usuario:', emailOrUsername);\n\n    // IMPORTANTE: La BD de Xano NO tiene campo de contraseña\n    // Por lo tanto, la autenticación se hace localmente usando localStorage\n\n    // Buscar en localStorage (usuarios registrados con contraseña local)\n    const usuariosLocal = JSON.parse(localStorage.getItem('usuarios_local') || '[]');\n    const usuarioLocal = usuariosLocal.find(u => (u.correo === emailOrUsername || u.username === emailOrUsername) && u.contrasena === password);\n    if (usuarioLocal) {\n      console.log('✓ Usuario encontrado y contraseña válida');\n      return usuarioLocal;\n    }\n\n    // Verificar si el usuario existe en Xano pero no tiene contraseña local\n    const apostadores = await obtenerApostadores();\n    const apostadorEnXano = apostadores.find(a => a.correo === emailOrUsername || a.username === emailOrUsername);\n    if (apostadorEnXano) {\n      console.log('⚠️ Usuario existe en Xano pero no tiene contraseña registrada localmente');\n      console.log('Debes registrarte nuevamente para crear una contraseña local');\n      return null;\n    }\n    console.log('✗ Usuario no encontrado');\n    return null;\n  } catch (error) {\n    console.error('Error en validarLogin:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["API_BASE_URL","crearApostador","datosApostador","console","log","datosParaXano","nombre","apellido","username","correo","response","fetch","method","headers","body","JSON","stringify","status","statusText","ok","errorData","json","catch","error","Error","message","resultado","usuarioCompleto","contrasena","usuariosLocal","parse","localStorage","getItem","push","setItem","obtenerApostadores","actualizarApostador","apostadorId","datosActualizados","actualizarContrasenaLocal","nuevaContrasena","index","findIndex","u","id","eliminarApostador","loginApostador","emailOrUsername","password","apostadores","apostador","find","a","loginResponse","email","authData","authToken","validarLogin","usuarioLocal","apostadorEnXano"],"sources":["C:/Users/maxi/Desktop/Nueva carpeta (2)/Casino21React/src/services/apostadorService.js"],"sourcesContent":["const API_BASE_URL = 'https://x8ki-letl-twmt.n7.xano.io/api:W_i_EmGE';\r\n\r\n// POST - Crear un nuevo apostador (registro)\r\nexport const crearApostador = async (datosApostador) => {\r\n  try {\r\n    console.log('Enviando datos a Xano:', datosApostador);\r\n    \r\n    // Estructura que coincide con la base de datos de Xano:\r\n    // id (auto), created_at (auto), nombre, apellido, username, correo\r\n    const datosParaXano = {\r\n      nombre: datosApostador.nombre,\r\n      apellido: datosApostador.apellido,\r\n      username: datosApostador.username,\r\n      correo: datosApostador.correo\r\n      // NO incluimos contraseña porque no existe en la BD\r\n    };\r\n    \r\n    const response = await fetch(`${API_BASE_URL}/apostador`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(datosParaXano)\r\n    });\r\n\r\n    console.log('Respuesta del servidor:', response.status, response.statusText);\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}));\r\n      console.error('Error de la API:', errorData);\r\n      throw new Error(errorData.message || 'Error al crear el apostador');\r\n    }\r\n\r\n    const resultado = await response.json();\r\n    console.log('Usuario creado:', resultado);\r\n    \r\n    // Guardar la contraseña localmente para autenticación\r\n    const usuarioCompleto = {\r\n      ...resultado,\r\n      contrasena: datosApostador.contrasena // Guardar localmente\r\n    };\r\n    \r\n    // Guardar en localStorage para autenticación local\r\n    const usuariosLocal = JSON.parse(localStorage.getItem('usuarios_local') || '[]');\r\n    usuariosLocal.push(usuarioCompleto);\r\n    localStorage.setItem('usuarios_local', JSON.stringify(usuariosLocal));\r\n    \r\n    return resultado;\r\n  } catch (error) {\r\n    console.error('Error en crearApostador:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// GET - Obtener todos los apostadores (para validar login)\r\nexport const obtenerApostadores = async () => {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/apostador`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      }\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error('Error al obtener los apostadores');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error en obtenerApostadores:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// PUT - Actualizar datos del apostador (nombre, apellido, username, correo)\r\nexport const actualizarApostador = async (apostadorId, datosActualizados) => {\r\n  try {\r\n    // Solo enviamos campos que existen en Xano\r\n    const datosParaXano = {\r\n      nombre: datosActualizados.nombre,\r\n      apellido: datosActualizados.apellido,\r\n      username: datosActualizados.username,\r\n      correo: datosActualizados.correo\r\n      // NO incluimos contraseña porque no existe en la BD\r\n    };\r\n    \r\n    const response = await fetch(`${API_BASE_URL}/apostador/${apostadorId}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(datosParaXano)\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}));\r\n      throw new Error(errorData.message || 'Error al actualizar el apostador');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error en actualizarApostador:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Actualizar contraseña localmente (ya que no existe en Xano)\r\nexport const actualizarContrasenaLocal = async (apostadorId, nuevaContrasena) => {\r\n  try {\r\n    const usuariosLocal = JSON.parse(localStorage.getItem('usuarios_local') || '[]');\r\n    const index = usuariosLocal.findIndex(u => u.id === apostadorId);\r\n    \r\n    if (index !== -1) {\r\n      usuariosLocal[index].contrasena = nuevaContrasena;\r\n      localStorage.setItem('usuarios_local', JSON.stringify(usuariosLocal));\r\n      return usuariosLocal[index];\r\n    }\r\n    \r\n    throw new Error('Usuario no encontrado en almacenamiento local');\r\n  } catch (error) {\r\n    console.error('Error en actualizarContrasenaLocal:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// DELETE - Eliminar apostador\r\nexport const eliminarApostador = async (apostadorId) => {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/apostador/${apostadorId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      }\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error('Error al eliminar el apostador');\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('Error en eliminarApostador:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Función de login con autenticación de Xano\r\nexport const loginApostador = async (emailOrUsername, password) => {\r\n  try {\r\n    // Primero intentamos obtener todos los apostadores\r\n    const apostadores = await obtenerApostadores();\r\n    \r\n    // Buscar usuario por correo o username\r\n    const apostador = apostadores.find(\r\n      a => a.correo === emailOrUsername || a.username === emailOrUsername\r\n    );\r\n\r\n    if (!apostador) {\r\n      return null; // Usuario no encontrado\r\n    }\r\n\r\n    // Intentar autenticar con Xano usando el endpoint de login\r\n    // Xano espera el campo de contraseña para validar contra el hash\r\n    const loginResponse = await fetch(`${API_BASE_URL}/auth/login`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        email: apostador.correo,\r\n        password: password\r\n      })\r\n    });\r\n\r\n    if (loginResponse.ok) {\r\n      const authData = await loginResponse.json();\r\n      return { ...apostador, authToken: authData.authToken };\r\n    } else {\r\n      // Si falla la autenticación, retornar null\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.error('Error en loginApostador:', error);\r\n    // Si el endpoint de login no existe, hacemos un workaround\r\n    // verificando manualmente la estructura de datos\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Función auxiliar para validar login\r\nexport const validarLogin = async (emailOrUsername, password) => {\r\n  try {\r\n    console.log('=== Validando Login ===');\r\n    console.log('Buscando usuario:', emailOrUsername);\r\n    \r\n    // IMPORTANTE: La BD de Xano NO tiene campo de contraseña\r\n    // Por lo tanto, la autenticación se hace localmente usando localStorage\r\n    \r\n    // Buscar en localStorage (usuarios registrados con contraseña local)\r\n    const usuariosLocal = JSON.parse(localStorage.getItem('usuarios_local') || '[]');\r\n    const usuarioLocal = usuariosLocal.find(\r\n      u => (u.correo === emailOrUsername || u.username === emailOrUsername) \r\n           && u.contrasena === password\r\n    );\r\n    \r\n    if (usuarioLocal) {\r\n      console.log('✓ Usuario encontrado y contraseña válida');\r\n      return usuarioLocal;\r\n    }\r\n    \r\n    // Verificar si el usuario existe en Xano pero no tiene contraseña local\r\n    const apostadores = await obtenerApostadores();\r\n    const apostadorEnXano = apostadores.find(\r\n      a => a.correo === emailOrUsername || a.username === emailOrUsername\r\n    );\r\n\r\n    if (apostadorEnXano) {\r\n      console.log('⚠️ Usuario existe en Xano pero no tiene contraseña registrada localmente');\r\n      console.log('Debes registrarte nuevamente para crear una contraseña local');\r\n      return null;\r\n    }\r\n    \r\n    console.log('✗ Usuario no encontrado');\r\n    return null;\r\n  } catch (error) {\r\n    console.error('Error en validarLogin:', error);\r\n    throw error;\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}